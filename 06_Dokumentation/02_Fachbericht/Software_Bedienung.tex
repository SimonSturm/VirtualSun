\subsection{Bedienung}
Die Bedienungssoftware ist Anwenderfreundlich aufgebaut indem der Benutzer in zwei Schritten den Modus und die Bestrahlungsstärke wählt.
\newline
Das LCD-Display zeigt in der Reihenfolge: Modus, Bestrahlungsstärke, Strom und Spannung, die Werte an, welche vom Analog-Digital-Wandler gelesen werden. Die Taster dienen dazu, die Bestrahlungsstärke zu erhöhen, zu reduzieren und den Modus umzuschalten. Mit der nachfolgenden Beschreibung der Software, wird das Prinzip vom Entprellen, dem automatischen Zählen und der Funktionsweise des Modus beschrieben.
\newline
\textbf{Tasterentprellung}
\newline
%ISR (TIMER0_OVF_vect)
Der Timer-Interrupt im Mikrocontroller ruft alle 16ms eine Funktion auf, die den Taster entprellt, aber auch die Dauer des Tastenzustandes registriert.
%button |= ~old_button & current_button & BUTTONMASK;
Der Taster (button) wird als gedrückt erkannt, wenn der alte invertierte Zustand (old\_button), der momentane Zustand (current\_button) und die Pinmaske (BUTTONMASK) übereinstimmen.
%if (button)
Mit logischen Bedingungen werden das Auf- und Abwärtszählen, das automatische Zählen und der Modus gewählt. Wird zum Beispiel die Taste zum Aufwärtszählen kurz gedrückt, setzt das Programm die Verzögerung des automatischen Zählers (autorepeat) präventiv auf 50, welche ungefähr zwei Sekunden entsprechen. Nachfolgend wird der automatische Zähler um Eins dekrementiert. Eine integrierte Bedingung begrenzt den Aufwärtszähler bei 100 und setzt den Wert auf 20 zurück.
\newline
Die Zeilen wurden analog für die Taste zum Abwärtszählen geschrieben.
\newline
\textbf{Automatisches Zählen}
\newline
Als nächstes wurde das automatische Zählen programmiert. Auf die integrierte Bedingung wird eingegangen, wenn der momentan gedrückte Taster (current\_button) und die Tastermaske (BUTTONUP) Eins ergeben. Folglich wird der automatische Zähler ab dem gesetzten Verzögerungswert dekrementiert und auch nur solange die Taste gedrückt wird. Ist der Verzögerungswert Null wird \textit{autorepeat} nochmals auf 50 gesetzt für eine allfällige Fortsetzung des automatischen Zählens. Bevor die eigentliche Rechnung erfolgt wird der Taster (button) gleich der Tastermaske (BUTTONUP oder BUTTONDOWN) gesetzt. Die Rechnung ist einfach zu realisieren, denn ein Integer ist eine ganze Zahl. Wird zuerst die Bestrahlungsstärke durch Zehn dividiert und umgekehrt mit Zehn multipliziert verliert die Zahl die Kommastellen und eine ganze Zahl entsteht. Dieser wird nun Zehn hinzugefügt oder abgezogen.
\newline
Für das automatische verringern der Bestrahlungsstärke wurde eine weitere Variable hinzugefügt. Die Differenz zwischen dem momentanen Wert und der errechneten Zehnerzahl nach der obigen Rechnung wird in die neue Variable gespeichert. Ist die Differenz Zehn wird die obige Rechnungsmethode verwendet, ist jedoch die Differenz grösser als Zehn wird bei der Rechnungsmethode auf das verringern um Zehn verzichtet. Das hat zur Sache, dass z.B. die Zahl 55 beim automatisch verringern nicht 40 ergibt sondern 50. Zuletzt wird bei beiden Automatismen die Prüfung der Grenzwerte 20 und 100 angewendet, damit die Bestrahlungsstärke im Bereich bleibt.
\newline
\textbf{Modus umschalten}
\newline
Für den Modus wurde ein Array der Länge drei initialisiert und mit den Texten: \textit{NORMAL}, \textit{VERSCHMUTZT}, \textit{TEILDEFEKT}. Wird der Taster (MODE) gedrückt inkrementiert eine Laufvariable und gibt den entsprechenden Text des Arrays auf dem Display aus.